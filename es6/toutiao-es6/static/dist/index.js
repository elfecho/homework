!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);const r=t=>{let e={...t,methods:t.method&&t.method.toUpperCase()||"GET"};return fetch(e.url,e).then(t=>t.json())};class i{constructor(t){this.props=t}render(){return"<div>我是基类不要直接使用我</div>"}constructElement(){const t=this.render(),e=document.createElement("div"),n=document.createElement("div");return n.appendChild(e),e.outerHTML=t,this.el=n.firstChild,this.el}}var o={SinglePic:class extends i{constructor(t){super(t)}render(){const{data:t}=this.props;return`<div class="item single-pic">\n                <div class="content">\n                    <span y-on:click="clicking">\n                        ${t.title}\n                    </span>\n                </div>\n                <img src="${t.imageList[0]}" />\n            </div>`}},MultiplePic:class extends i{constructor(t){super(t)}render(){const{data:t}=this.props;console.log("this.props:",this.props);const e=t.imageList.map(t=>`<img src=${t} />`).join("");return`<div class="item multiple-image" on:click="aa">\n            <h3>\n                ${t.title}\n            </h3>\n            <div class="image-list">\n                ${e}\n            </div>\n        </div>`}},BigPic:class extends i{constructor(t){super(t)}render(){const{data:t}=this.props;return`<div class="item big-pic">\n                <h3>\n                    ${t.title}\n                </h3>\n                <div class="img_nav">\n                    <img src="${t.imageList[0]}" />\n                </div>\n            </div>`}}};const s=50;class c{constructor(t){this.$container=t}init(){this.appendData(),this.detectReachBottom(()=>this.appendData())}appendData(){r({url:"/list"}).then(t=>{t.data.forEach(t=>{const e=t.type.replace(/^\w/g,t=>t.toUpperCase()),n=new(0,o[e])(t).constructElement();this.$container.append(n)})})}detectReachBottom(t=(()=>{})){window.onscroll=()=>{const e=document.documentElement.offsetHeight-window.screen.height-window.scrollY;console.log("gap:::::",e),e<s&&t()}}static getInstance(t){return new c(t)}}const a=document.getElementById("container");c.getInstance(a).init()}]);