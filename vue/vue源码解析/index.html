<!DOCTYPE html>
<html>
<head>
	<title>vue源码实现</title>
</head>
<body>
	<div id="app"></div>
	<!-- <script src="https://cdn.jsdelivr.net/npm/vue"></script> -->
	<script type="text/javascript">
		class Vue {
			constructor(options) {
				this.$el = document.querySelector(options.el)
				this.$data = options.data && options.data()
				this.render = options.render
				this._update()
			}
			_createElement(tagName, data, children) {
				const tag = document.createElement(tagName)
				const {attrs = {}} = data
				for (let attrName in attrs) {
					tag.setAttribute(attrName, attrs[attrName])
				}
				if (Object.prototype.toString
					.call(children) !== '[object Array]') {
					let child = document.createTextNode(children)
					tag.appendChild(child)
				} else {
					children.forEach(child => {
						tag.appendChild(child)
					})
				}
				return tag
			}

			_update() {
				const root = this.render(this._createElement)
				console.log('root::::', root)

			}
		}
		window.app = new Vue({
			el: '#app',
			data() {
				return {
					price: '27',
					infos: {
						title: '猪肉的价格'
					}
				}
			},
			render(createElement){
				return createElement('div', {
					attrs: {
						title: '猪肉价格'
						// this.infos.title
					}
				}, [
					createElement(
						'span', 
						{},
						'27'
						// this.price
					)
				])
			}
		})
	</script>
</body>
</html>